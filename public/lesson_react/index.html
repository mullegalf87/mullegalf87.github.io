<html>
<head>
    <!-- dataresponsive -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- jquery 3.5 jquery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- bootstrap 4.5 bootstrap-->
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- fontawsome -->
    <script src="https://use.fontawesome.com/releases/v5.0.1/js/all.js"></script>
    <!-- react -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
    <style>

    </style>
    <body>

        <div class="p-3">
            <h1 id="demo" style="border: 2px solid red;">Ciao</h1>
            <button class="btn btn-primary">Change color</button>
        </div>

        <div class="p-3">
            <h1 id="root" style="border: 2px solid black;">Root</h1>
        </div>

        <div class="p-3">
            <h1 id="format" style="border: 2px solid black;">Format</h1>
        </div>
        
    <script type="text/babel">

        // Le variabili var possono essere aggiornate o ri-dichiarate dentro il loro ambito globale o di funzione; 
        // le variabili let possono essere aggiornate ma non re-dichiarate dentro il loro ambito di blocco; 
        // le variabili const non possono essere né aggiornate né re-dichiarate dentro il loro ambito di blocco; 

        // Le maiuscole e le posizioni sono fondamentali di ogni cosa

        //creare la classe
        class Car {
            //il parametro viene passato con il constructor
            constructor(name) {
                //all'object Car viene assegnato il key brand e il valore name
                this.brand = name;
            }
            //si aggiunge un metodo alla classe Car
            present = () => {
                return 'I have a name car ' + this.brand;
            };

        }

        //creare la seconda classe che erediterà la prima classe Car
        class Model extends Car{
            //il parametro viene passato con il constructor
            constructor(name, model){
                //questo metodo permette di accedere al parametro nome della classe Car
                super(name);
                //all'object Car viene assegnato il secondo key model e il valore model
                this.model=model;
            }

            present_2 = () => {
                return 'I have model car ' + this.model;
            };

        }

        //START CLASS
        //crea un object basato sulla classe Car, chiama la funzione, in questo caso la variabile inizia per const e non var come al solito
        const mycar = new Car("Ford");
        //mi ritorna l'object con key e valore
        console.log(mycar);
        //unisce la funzione present con la class Car, tale da fargli passare il valore
        console.log(mycar.present());

        //crea un object basato sulla classe Car, chiama la funzione, in questo caso la variabile inizia per const e non var come al solito
        const mycar2 = new Model("Ford","Mustung");
        //mi ritorna l'object con key e valore
        console.log(mycar2);
        //unisce la funzione present_2 con la class Model, tale da fargli passare il valore
        console.log(mycar2.present_2());
        //END CLASS

        //START ARROW FUNCTION
        //crea una funzione senza inserire function e tra parentesi ti riporta il parametro, ricorda la sintassi con =>. Addirittura se hai solo un parametro puoi omettere le parentesi
        const hello = (saluto, name) => {

            return saluto +" "+ name;

        };
        /* è la stessa cosa che scrivere        
        var hello = function(saluto, name){

            return saluto + name;

        }*/
        console.log(hello("ciao","caio"));

        class Changecolor {

            constructor(from_color){

                this.color=from_color;

            }

            header = () => {

               $("#demo").css("border","2px solid " + this.color);

            }

        }

        $(".btn").click(function(){

            const change_color=new Changecolor("green");
            change_color.header();

        });
        //END ARROW FUNCTION

        //START ARRAY METHOD
        const array=['banana','fragole','lamponi'];
        //mostra tutti gli elementi di un array e li appende
        const myList = array.map((item)=>{
            $("#demo").append("<p>"+(item)+"</p>");
        });
        //la stessa cosa si potrebbe scrivere come segue
        // array.map(function(item){
        //     $("#demo").append("<p>"+(item)+"</p>");
        // });
        //END ARRAY METHOD


        //START DESTRUCTURING ARRAY METHOD
        //destrutturare un array per ritornare un dato valore
        const calculate = (a,b) => {

            const addition=a+b;
            const substract=a-b;
            const multiply=a*b;
            const divide=a/b;

            return [addition, substract, multiply, divide];

        };

        const [addition, substract, multiply, divide] = calculate(6,2)

        console.log(addition);

        const vehicles = ['mustang', 'f-150', 'expedition'];

        const [car, truck, suv] = vehicles;

        console.log(car)
        //END DESTRUCTURING ARRAY METHOD

        //START DESTRUCTURING OBJECT METHOD
        ///destrutturare un object per ritornare un dato valore di una key
        const vehicleOne = {
            brand: 'Ford',
            model: 'Mustang',
            type: 'car',
            year: 2021, 
            color: 'red',
            address:{
                state: 'Italy',
                zip: '90100'
            }
        }

        const read_vehicle = ({brand, model, type, year, color, address:{state}}) =>{

            const message = 'My ' + type + ' is a ' + color + ' ' + brand + ' ' + model + ' ' + state;

            console.log(message);

        }

        read_vehicle(vehicleOne);
        //END DESTRUCTURING OBJECT METHOD

        //START SPREAD OPERATOR
        //...servono per combinare array e obejct
        const array_a=[1,2,3,4];
        const array_b=[5,6,7,8];
        const combine_array_ab=[...array_a, ...array_b];
        console.log(combine_array_ab);

        const object_a = {
            brand: 'Ford',
            model: 'Mustang',
            color: 'red'
        }

        const object_b = {
            type: 'car',
            year: 2021, 
            color: 'yellow'
        }
        
        const combine_object_ab={...object_a, ...object_b};
        console.log(combine_object_ab);
        //END SPREAD OPERATOR

        //START OPERATORE TERNARIO
        const text="prova";
        text=="prova" ? console.log("corretto") : console.log("sbagliato");
        //si potrebbe scrivere anche come segue.
        // if(text=="prova"){
        //     console.log("corretto");
        // }else{
        //     console.log("sbagliato");
        // }
        //END OPERATORE TERNARIO

        //START RENDER HTML
        //questa funzione render permette di prendere l'elemento del codice e di mostrarlo dentro il dom tag html
        const myelement =  <h1>append render</h1>;
        ReactDOM.render(myelement, $("#root")[0]);
        //END RENDER HTML
        
        //START CODING JSX
        //permette di appendere elementi html dentro il dom tag html senza createElement() o appendChild();, sfruttando gli operatori dentro le parentesi{}. Ricordati che la classe nel dom si dichiara con className.
        const num=5;
        let textjsx;
        num < 10 ? textjsx="yes jsx" : textjsx="no jsx";
        const myElement = <h1 className="myclass">{textjsx} {5+5} times than other!</h1>;
        const root = ReactDOM.createRoot( $("#root")[0]);
        root.render(myElement);
        //END CODING JSX

        //START REACT COMPONENT (PROPS)
        //Funzionano come le classiche funzioni, ma con più codice
        // se il parametro è passato dal render come color allora mettere come parametro props
        const Garage = (props) => {

            return <h1>Il mio nome è {props.type} e la mia auto è una {props.object.name}</h1>

        }

        const Car_2 = (props) =>{

            const carInfo = { name: "Ford", model: "Mustang" };

            return <h2>Come ti chiami?<Garage type={props.color} object={carInfo}/> </h2>

        }

        const root_2 = ReactDOM.createRoot($("#root")[0]);

        root_2.render(<Car_2 color="green"/>);
        //END REACT COMPONENT (PROPS)

        //START REACT EVENT

        function Click_button(){

            const shot= (variable,event) => {

                alert(variable);
                console.log(event.type);

            }

            return (<button onClick={(event)=>shot("goal",event)}>click shot</button>);

        }

        const shoot_html=ReactDOM.createRoot($("#root")[0]);
        shoot_html.render(<Click_button/>);
        //END REACT EVENT

        //START IF STATEMENT
        function Missedgoal(){

            alert("goal mancato");

        }

        function Takegoal(){

            alert("goal segnato");
            
        }

        //semplice funzione con if else con props
        function Checkgoal(props){
            
            const verify=props.goal;
            console.log(verify)
            if(verify){

                return Takegoal();

            } else{

                return Missedgoal();

            }

        }
        const see_goal=ReactDOM.createRoot($("#root")[0]);
        see_goal.render(<Checkgoal goal={true}/>);

        //funzione if else con props array and logical &&, questo operatore logico significa appendi ciò che è vero
        function Checkcars(props){

            const verify_cars=props.cars;

            return (
                //gli fa capire che sta aprendo un html content e può applicare al suo interno espressioni ecc.
                <>
                <h1>Quante macchine possiedi?</h1>
                { verify_cars.length <= 0 &&
                    
                    <h1>Non ho macchine</h1>
                    //o con operatore ternario
                    // verify_cars.length > 0 ? <h1>Ho {verify_cars.length} macchine</h1> : <h1>Non ho macchine</h1>

                }
                <h1>Ho {verify_cars.length} macchine</h1>
                

                </>
                );

        }

        const array_cars=['Ford', 'BMW', 'Audi'];
        const see_cars=ReactDOM.createRoot($("#root")[0]);
        see_goal.render(<Checkcars cars={array_cars}/>);
        //END IF STATEMENT

        //START REACT LIST
        //lista con array o object è semplice
        function Return_map_list(props){
            return(
                <>
                <li>io sono la macchina id {props.id_list} e il mio nome è {props.brand_list}</li>
                </>
            );
        }

        function Map_list(){

            const array_list = [
                {id: 1, brand: 'Ford'},
                {id: 2, brand: 'BMW'},
                {id: 3, brand: 'Audi'}
            ];
            return(
                <>
                <ul>{array_list.map((car)=><Return_map_list id_list={car.id} brand_list={car.brand}/>)}</ul>
                </>
            );

        }
        
        const list=ReactDOM.createRoot($("#root")[0]);
        list.render(<Map_list/>);
        //END REACT LIST

        const click_submit=(event)=>{
            event.preventDefault();
            alert(event);

        }
        
        function Myform(){

            return(
                <>
                <form onSumbit={click_submit}>
                    <label>Enter your name:</label>
                    <input type="text" onChange={(e)=> setName(e.target.value)}/>
                    <input type="submit"/>
                </form>
                </>
            );

        }

        //START FORM
        const format=ReactDOM.createRoot($("#format")[0]);
        format.render(<Myform/>);
        //END FORM

    </script>

    <!-- come ricavare dati da altri file riportanto type=module e dopo avere creato i due file -->
    <script type="module">
        //import named
        import { name, age } from "../example/person.js";
        console.log(name)

        //import default
        import message from "../example/message.js";
        console.log(message());
    </script>
    </body>
</html>